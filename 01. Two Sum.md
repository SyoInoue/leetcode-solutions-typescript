# １）問題

- 配列の中の任意の 2 つの数値を足すと、ターゲット値になる 2 つの数値のインデックスを見つけ出す問題。
- つまり、「どんな配列が値として渡ってきてもその中から、配列の何番目と何番目を足せば、target の値になるかわかる関数を作成してください」と言うこと。

# ２）解答

```tsx
function twoSum(nums: number[], target: number): number[] {
  // Mapオブジェクトの作成。配列内の各数値をキーとし、そのインデックスを値として保存する。
  const numberMap = new Map();

  for (let i = 0; i < nums.length; i++) {
    // このnumberには[i]番目の数字が格納されている。
    // 例1なら[2,7,11,15]が繰り返し処理毎に代入される
    const number = nums[i];

    // ここでtargetからnumberを引くことでdifferenceにある数値を探し出せばクリアになる。
    // 例1なら「9-2」、「9-7」、「9-11」、「9-15」の結果がそれぞれ代入される。
    const difference = target - number;

    // 「has」、「get」、「set」はMapオブジェクトのメソッド。
    // has...特定のキーが Mapオブジェクト内に存在するかどうかをチェック。真偽値を返す。
    // get...特定のキーに関連付けられた値を取得。指定したキーが存在しない場合はundefinedを返します。
    // set...特定のキーと値をMapオブジェクトに追加する。もし指定したキーがすでに存在する場合は、そのキーの値を更新する。
    if (numberMap.has(difference)) return [numberMap.get(difference), i];

    numberMap.set(number, i);
  }
}
```

# ３）計算の過程

**`nums = [2,7,11,15]`**, **`target = 9`** の場合の計算過程を詳しく説明します。

1. 初めに、**`numberMap`**という新しい**`Map`**オブジェクトを作成します。
2. 次に、**`nums`**配列を先頭から順にループしていきます。
3. 最初のループでは、**`number`**は**`nums[0]`**つまり**`2`**になります。このとき、**`difference = target - number`**は**`9 - 2 = 7`**となります。**`numberMap`**に**`7`**が存在しないため、次のステップに移ります。**`numberMap.set(number, i)`**で、**`numberMap`**に**`2`**をキーとしてそのインデックス**`0`**を保存します。
4. 次のループでは、**`number`**は**`nums[1]`**つまり**`7`**になります。このとき、**`difference = target - number`**は**`9 - 7 = 2`**となります。今度は**`numberMap`**に**`2`**が存在するため、**`if (numberMap.has(difference))`**の条件が真となり、**`[numberMap.get(difference), i]`**が返されます。**`numberMap.get(difference)`**は、**`difference`**である**`2`**のインデックス（前のループで保存された**`0`**）を取得します。そして**`i`**は現在のループのインデックス**`1`**です。

したがって、この関数は **`[0, 1]`** を返します。これは、**`nums`**配列の**`0`**番目と**`1`**番目の要素、つまり**`2`**と**`7`**が加算されると**`target`**の**`9`**になる、という結果を示しています。

# ４）備考

## Map オブジェクトについて

1. **`Map`** オブジェクトは順序付けされた要素のリストを持ち、各要素には一意のキーと値がある。
2. **順序付け :** 要素は挿入順に反復処理される。これは一般的なオブジェクトとは異なる特性である。
3. **キーの一意性 :** 各キーは **`Map`** の中で一意です。同じキーで **`set`** メソッドを再度呼び出すと、そのキーの値が更新されます。
4. 1. **任意のキー :** **`Map`** のキーは任意の値（オブジェクトを含む）を持つことができます。これも一般的なオブジェクトとは異なる特性です。
5. **`Map`** オブジェクトは、要素の挿入順を保持し、キーの一意性を維持することが必要な場合や、高速なキーの検索や更新が必要な場合に特に便利。
6. オブジェクトリテラルと違い、「:」が存在しない。

   ```tsx
   let myMap = new Map();
   myMap.set("key1", "value1");
   myMap.set("key2", "value2");
   ```

7. 以下のメソッドを提供する
   1. **set(key, value)**: **`Map`** に新たな要素を追加または既存の要素を更新します。このメソッドは **`Map`** オブジェクト自体を返すため、メソッドチェーンが可能です。
   2. **get(key)**: 指定されたキーに関連付けられた値を返します。もし指定されたキーが **`Map`** に存在しない場合、**`undefined`** を返します。
   3. **has(key)**: 指定されたキーが **`Map`** に存在する場合は **`true`** を、存在しない場合は **`false`** を返します。
   4. **delete(key)**: **`Map`** から指定されたキーの要素を削除します。要素が正常に削除された場合は **`true`** を、キーが存在しない場合は **`false`** を返します。
   5. **clear()**: **`Map`** からすべての要素を削除します。
